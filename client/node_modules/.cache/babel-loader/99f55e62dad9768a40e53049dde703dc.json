{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _lodash = require('lodash');\n\nvar _lodash2 = _interopRequireDefault(_lodash);\n\nvar _getBorderCharacters = require('./getBorderCharacters');\n\nvar _getBorderCharacters2 = _interopRequireDefault(_getBorderCharacters);\n\nvar _validateConfig = require('./validateConfig');\n\nvar _validateConfig2 = _interopRequireDefault(_validateConfig);\n\nvar _calculateMaximumColumnWidthIndex = require('./calculateMaximumColumnWidthIndex');\n\nvar _calculateMaximumColumnWidthIndex2 = _interopRequireDefault(_calculateMaximumColumnWidthIndex);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/**\n * Merges user provided border characters with the default border (\"honeywell\") characters.\n *\n * @param {Object} border\n * @returns {Object}\n */\n\n\nvar makeBorder = function makeBorder() {\n  var border = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return Object.assign({}, (0, _getBorderCharacters2.default)('honeywell'), border);\n};\n/**\n * Creates a configuration for every column using default\n * values for the missing configuration properties.\n *\n * @param {Array[]} rows\n * @param {Object} columns\n * @param {Object} columnDefault\n * @returns {Object}\n */\n\n\nvar makeColumns = function makeColumns(rows) {\n  var columns = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var columnDefault = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var maximumColumnWidthIndex = (0, _calculateMaximumColumnWidthIndex2.default)(rows);\n\n  _lodash2.default.times(rows[0].length, function (index) {\n    if (_lodash2.default.isUndefined(columns[index])) {\n      columns[index] = {};\n    }\n\n    columns[index] = Object.assign({\n      alignment: 'left',\n      paddingLeft: 1,\n      paddingRight: 1,\n      truncate: Infinity,\n      width: maximumColumnWidthIndex[index],\n      wrapWord: false\n    }, columnDefault, columns[index]);\n  });\n\n  return columns;\n};\n/**\n * Makes a new configuration object out of the userConfig object\n * using default values for the missing configuration properties.\n *\n * @param {Array[]} rows\n * @param {Object} userConfig\n * @returns {Object}\n */\n\n\nexports.default = function (rows) {\n  var userConfig = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  (0, _validateConfig2.default)('config.json', userConfig);\n\n  var config = _lodash2.default.cloneDeep(userConfig);\n\n  config.border = makeBorder(config.border);\n  config.columns = makeColumns(rows, config.columns, config.columnDefault);\n\n  if (!config.drawHorizontalLine) {\n    /**\n         * @returns {boolean}\n         */\n    config.drawHorizontalLine = function () {\n      return true;\n    };\n  }\n\n  return config;\n};","map":null,"metadata":{},"sourceType":"script"}